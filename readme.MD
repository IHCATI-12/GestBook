# üìö GestBook: Sistema de Gest√£o de Bibliotecas

## üåü Vis√£o Geral do Projeto

**GestBook** √© uma plataforma robusta desenvolvida para **facilitar a gest√£o completa de acervos e empr√©stimos** em bibliotecas. O sistema oferece interfaces dedicadas para bibliotec√°rios (administra√ß√£o e CRUD) e leitores (consulta e hist√≥rico), garantindo controle de estoque, seguran√ßa por perfil de usu√°rio e valida√ß√£o de dados em tempo real.

O principal objetivo do GestBook √© **automatizar o controle de c√≥pias e o registro de transa√ß√µes**, fornecendo filtros avan√ßados e alertas de atraso para uma opera√ß√£o eficiente da biblioteca.

---

## ‚ú® Tecnologias Utilizadas

| Categoria | Tecnologia | Uso Principal |
| :--- | :--- | :--- |
| **Backend (API)** | **FastAPI** | Roteamento de API, valida√ß√£o de dados e seguran√ßa (JWT). |
| **Banco de Dados** | **PostgreSQL** | Armazenamento persistente e relacional de todo o acervo e transa√ß√µes. |
| **ORM** | **SQLAlchemy** | Mapeamento Objeto-Relacional para interagir com o PostgreSQL. |
| **Frontend** | **HTML5, CSS3, JavaScript (Vanilla)** | Interface do usu√°rio e l√≥gica de navega√ß√£o/intera√ß√£o. |
| **Seguran√ßa** | **JWT, Passlib (Argon2)** | Autentica√ß√£o, Autoriza√ß√£o (*Role-Based Access Control*) e *Hashing* seguro de senhas. |
| **Ambiente** | **Python Venv, Uvicorn** | Virtualiza√ß√£o de depend√™ncias e servidor ASGI para FastAPI. |

---

## üèóÔ∏è Estrutura do Banco de Dados (PostgreSQL)

O esquema do banco de dados foi projetado para garantir a integridade transacional e a flexibilidade no acervo, especialmente atrav√©s da rela√ß√£o **Muitos-Para-Muitos** entre Livros e G√™neros.

| Tabela | Descri√ß√£o | Regras de Neg√≥cio Chave |
| :--- | :--- | :--- |
| **`usuarios`** | Leitores e Bibliotec√°rios. | `role` definida ('leitor' ou 'bibliotecario'). |
| **`autores`** | Informa√ß√µes sobre autores. | `data_nascimento` n√£o pode ser futura. |
| **`livro`** | Acervo, ISBN e controle de c√≥pias. | `numero_copias >= 0`, `ano_publicacao` n√£o pode ser futuro. |
| **`emprestimo`** | Transa√ß√µes. | `data_devolucao_prevista > data_emprestimo`. |
| **`livros_generos`** | Associa√ß√£o M:N. | Exclus√£o do Livro resulta em exclus√£o em cascata da associa√ß√£o. |

---

## üîë Funcionalidades e Controle de Estoque

### M√≥dulo de Autentica√ß√£o (/auth)
* **Registro de Novos Usu√°rios** (Leitores) e Login por E-mail/Senha.

* **Autoriza√ß√£o por Papel (Role):** O acesso a rotas administrativas √© estritamente controlado para o perfil bibliotecario.

### Dashboard do Leitor (Acesso R√°pido e Consulta)
* **Cat√°logo Interativo:** Busca por T√≠tulo/Autor e filtros din√¢micos por G√™nero.

* **Meus Empr√©stimos:** Hist√≥rico e status com alertas visuais para livros Atrasados.

---

## üîê Dashboard do Bibliotec√°rio (Administra√ß√£o e CRUD)

O m√≥dulo administrativo implementa a l√≥gica de neg√≥cio central do sistema:

| Funcionalidade | Endpoint (CRUD) | Controle de Estoque/Seguran√ßa |
| :--- | :--- | :--- |
| **Gest√£o de Acervos** | `/autores/`, `/generos/`, `/livros/` | Cria√ß√£o e atualiza√ß√£o de todos os componentes do acervo. |
| **Cria√ß√£o de Empr√©stimos** | `POST /emprestimos/` | **Decrementa o estoque** do livro em tempo real. |
| **Finalizar Devolu√ß√£o** | `POST /emprestimos/{id}/devolver` | **Incrementa o estoque** e registra o bibliotec√°rio que realizou a devolu√ß√£o. |
| **Exclus√£o Segura** | `DELETE /livros/{id}/com-emprestimos` | Requer que todos os empr√©stimos do livro estejam como `DEVOLVIDO` antes de permitir a exclus√£o total. |
| **Consulta de Transa√ß√µes**| `GET /emprestimos/` | Listagem completa de todos os empr√©stimos, ativa√ß√£o de filtros de status e leitor. |

---

## üë§ Contato
Para d√∫vidas, entre em contato:

Ulisses S. Filho - 007259@libertas.edu.br
